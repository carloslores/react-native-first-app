{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar BatchedBridge = require(\"../BatchedBridge/BatchedBridge\");\n\nvar BugReporting = require(\"../BugReporting/BugReporting\");\n\nvar ReactNative = require(\"../Renderer/shims/ReactNative\");\n\nvar SceneTracker = require(\"../Utilities/SceneTracker\");\n\nvar infoLog = require(\"../Utilities/infoLog\");\n\nvar invariant = require('invariant');\n\nvar renderApplication = require(\"./renderApplication\");\n\nvar createPerformanceLogger = require(\"../Utilities/createPerformanceLogger\");\n\nimport NativeHeadlessJsTaskSupport from \"./NativeHeadlessJsTaskSupport\";\nimport HeadlessJsTaskError from \"./HeadlessJsTaskError\";\nvar runnables = {};\nvar runCount = 1;\nvar sections = {};\nvar taskProviders = new Map();\nvar taskCancelProviders = new Map();\n\nvar componentProviderInstrumentationHook = function componentProviderInstrumentationHook(component) {\n  return component();\n};\n\nvar wrapperComponentProvider;\nvar showArchitectureIndicator = false;\nvar AppRegistry = {\n  setWrapperComponentProvider: function setWrapperComponentProvider(provider) {\n    wrapperComponentProvider = provider;\n  },\n  enableArchitectureIndicator: function enableArchitectureIndicator(enabled) {\n    showArchitectureIndicator = enabled;\n  },\n  registerConfig: function registerConfig(config) {\n    config.forEach(function (appConfig) {\n      if (appConfig.run) {\n        AppRegistry.registerRunnable(appConfig.appKey, appConfig.run);\n      } else {\n        invariant(appConfig.component != null, 'AppRegistry.registerConfig(...): Every config is expected to set ' + 'either `run` or `component`, but `%s` has neither.', appConfig.appKey);\n        AppRegistry.registerComponent(appConfig.appKey, appConfig.component, appConfig.section);\n      }\n    });\n  },\n  registerComponent: function registerComponent(appKey, componentProvider, section) {\n    var scopedPerformanceLogger = createPerformanceLogger();\n    runnables[appKey] = {\n      componentProvider: componentProvider,\n      run: function run(appParameters) {\n        renderApplication(componentProviderInstrumentationHook(componentProvider, scopedPerformanceLogger), appParameters.initialProps, appParameters.rootTag, wrapperComponentProvider && wrapperComponentProvider(appParameters), appParameters.fabric, showArchitectureIndicator, scopedPerformanceLogger, appKey === 'LogBox');\n      }\n    };\n\n    if (section) {\n      sections[appKey] = runnables[appKey];\n    }\n\n    return appKey;\n  },\n  registerRunnable: function registerRunnable(appKey, run) {\n    runnables[appKey] = {\n      run: run\n    };\n    return appKey;\n  },\n  registerSection: function registerSection(appKey, component) {\n    AppRegistry.registerComponent(appKey, component, true);\n  },\n  getAppKeys: function getAppKeys() {\n    return Object.keys(runnables);\n  },\n  getSectionKeys: function getSectionKeys() {\n    return Object.keys(sections);\n  },\n  getSections: function getSections() {\n    return _objectSpread({}, sections);\n  },\n  getRunnable: function getRunnable(appKey) {\n    return runnables[appKey];\n  },\n  getRegistry: function getRegistry() {\n    return {\n      sections: AppRegistry.getSectionKeys(),\n      runnables: _objectSpread({}, runnables)\n    };\n  },\n  setComponentProviderInstrumentationHook: function setComponentProviderInstrumentationHook(hook) {\n    componentProviderInstrumentationHook = hook;\n  },\n  runApplication: function runApplication(appKey, appParameters) {\n    if (appKey !== 'LogBox') {\n      var msg = 'Running \"' + appKey + '\" with ' + JSON.stringify(appParameters);\n      infoLog(msg);\n      BugReporting.addSource('AppRegistry.runApplication' + runCount++, function () {\n        return msg;\n      });\n    }\n\n    if (!runnables[appKey] || !runnables[appKey].run) {\n      console.warn(\"Unable to start your application. Please refer to https://expo.fyi/no-registered-application for more information.\");\n      return;\n    }\n\n    SceneTracker.setActiveScene({\n      name: appKey\n    });\n    runnables[appKey].run(appParameters);\n  },\n  unmountApplicationComponentAtRootTag: function unmountApplicationComponentAtRootTag(rootTag) {\n    ReactNative.unmountComponentAtNodeAndRemoveContainer(rootTag);\n  },\n  registerHeadlessTask: function registerHeadlessTask(taskKey, taskProvider) {\n    this.registerCancellableHeadlessTask(taskKey, taskProvider, function () {\n      return function () {};\n    });\n  },\n  registerCancellableHeadlessTask: function registerCancellableHeadlessTask(taskKey, taskProvider, taskCancelProvider) {\n    if (taskProviders.has(taskKey)) {\n      console.warn(\"registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '\" + taskKey + \"'\");\n    }\n\n    taskProviders.set(taskKey, taskProvider);\n    taskCancelProviders.set(taskKey, taskCancelProvider);\n  },\n  startHeadlessTask: function startHeadlessTask(taskId, taskKey, data) {\n    var taskProvider = taskProviders.get(taskKey);\n\n    if (!taskProvider) {\n      console.warn(\"No task registered for key \" + taskKey);\n\n      if (NativeHeadlessJsTaskSupport) {\n        NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      }\n\n      return;\n    }\n\n    taskProvider()(data).then(function () {\n      if (NativeHeadlessJsTaskSupport) {\n        NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      }\n    }).catch(function (reason) {\n      console.error(reason);\n\n      if (NativeHeadlessJsTaskSupport && reason instanceof HeadlessJsTaskError) {\n        NativeHeadlessJsTaskSupport.notifyTaskRetry(taskId).then(function (retryPosted) {\n          if (!retryPosted) {\n            NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n          }\n        });\n      }\n    });\n  },\n  cancelHeadlessTask: function cancelHeadlessTask(taskId, taskKey) {\n    var taskCancelProvider = taskCancelProviders.get(taskKey);\n\n    if (!taskCancelProvider) {\n      throw new Error(\"No task canceller registered for key '\" + taskKey + \"'\");\n    }\n\n    taskCancelProvider()();\n  }\n};\nBatchedBridge.registerCallableModule('AppRegistry', AppRegistry);\n\nif (__DEV__) {\n  var LogBoxInspector = require(\"../LogBox/LogBoxInspectorContainer\").default;\n\n  AppRegistry.registerComponent('LogBox', function () {\n    return LogBoxInspector;\n  });\n} else {\n  AppRegistry.registerComponent('LogBox', function () {\n    return function NoOp() {\n      return null;\n    };\n  });\n}\n\nmodule.exports = AppRegistry;","map":{"version":3,"sources":["/Users/carloseduardoloreshernandez/Desktop/Apps/Personal/react-native/react-native-first-app/node_modules/react-native/Libraries/ReactNative/AppRegistry.js"],"names":["BatchedBridge","require","BugReporting","ReactNative","SceneTracker","infoLog","invariant","renderApplication","createPerformanceLogger","NativeHeadlessJsTaskSupport","HeadlessJsTaskError","runnables","runCount","sections","taskProviders","Map","taskCancelProviders","componentProviderInstrumentationHook","component","wrapperComponentProvider","showArchitectureIndicator","AppRegistry","setWrapperComponentProvider","provider","enableArchitectureIndicator","enabled","registerConfig","config","forEach","appConfig","run","registerRunnable","appKey","registerComponent","section","componentProvider","scopedPerformanceLogger","appParameters","initialProps","rootTag","fabric","registerSection","getAppKeys","Object","keys","getSectionKeys","getSections","getRunnable","getRegistry","setComponentProviderInstrumentationHook","hook","runApplication","msg","JSON","stringify","addSource","console","warn","setActiveScene","name","unmountApplicationComponentAtRootTag","unmountComponentAtNodeAndRemoveContainer","registerHeadlessTask","taskKey","taskProvider","registerCancellableHeadlessTask","taskCancelProvider","has","set","startHeadlessTask","taskId","data","get","notifyTaskFinished","then","catch","reason","error","notifyTaskRetry","retryPosted","cancelHeadlessTask","Error","registerCallableModule","__DEV__","LogBoxInspector","default","NoOp","module","exports"],"mappings":"AAUA;;;;;;;;AAEA,IAAMA,aAAa,GAAGC,OAAO,kCAA7B;;AACA,IAAMC,YAAY,GAAGD,OAAO,gCAA5B;;AACA,IAAME,WAAW,GAAGF,OAAO,iCAA3B;;AACA,IAAMG,YAAY,GAAGH,OAAO,6BAA5B;;AAEA,IAAMI,OAAO,GAAGJ,OAAO,wBAAvB;;AACA,IAAMK,SAAS,GAAGL,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAMM,iBAAiB,GAAGN,OAAO,uBAAjC;;AACA,IAAMO,uBAAuB,GAAGP,OAAO,wCAAvC;;AAGA,OAAOQ,2BAAP;AACA,OAAOC,mBAAP;AAgCA,IAAMC,SAAoB,GAAG,EAA7B;AACA,IAAIC,QAAQ,GAAG,CAAf;AACA,IAAMC,QAAmB,GAAG,EAA5B;AACA,IAAMC,aAAwC,GAAG,IAAIC,GAAJ,EAAjD;AACA,IAAMC,mBAAoD,GAAG,IAAID,GAAJ,EAA7D;;AACA,IAAIE,oCAA0E,GAAG,8CAC/EC,SAD+E;AAAA,SAE5EA,SAAS,EAFmE;AAAA,CAAjF;;AAIA,IAAIC,wBAAJ;AACA,IAAIC,yBAAyB,GAAG,KAAhC;AAOA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,2BADkB,uCACUC,QADV,EAC8C;AAC9DJ,IAAAA,wBAAwB,GAAGI,QAA3B;AACD,GAHiB;AAKlBC,EAAAA,2BALkB,uCAKUC,OALV,EAKkC;AAClDL,IAAAA,yBAAyB,GAAGK,OAA5B;AACD,GAPiB;AASlBC,EAAAA,cATkB,0BASHC,MATG,EAS6B;AAC7CA,IAAAA,MAAM,CAACC,OAAP,CAAe,UAAAC,SAAS,EAAI;AAC1B,UAAIA,SAAS,CAACC,GAAd,EAAmB;AACjBT,QAAAA,WAAW,CAACU,gBAAZ,CAA6BF,SAAS,CAACG,MAAvC,EAA+CH,SAAS,CAACC,GAAzD;AACD,OAFD,MAEO;AACLxB,QAAAA,SAAS,CACPuB,SAAS,CAACX,SAAV,IAAuB,IADhB,EAEP,sEACE,oDAHK,EAIPW,SAAS,CAACG,MAJH,CAAT;AAMAX,QAAAA,WAAW,CAACY,iBAAZ,CACEJ,SAAS,CAACG,MADZ,EAEEH,SAAS,CAACX,SAFZ,EAGEW,SAAS,CAACK,OAHZ;AAKD;AACF,KAhBD;AAiBD,GA3BiB;AAkClBD,EAAAA,iBAlCkB,6BAmChBD,MAnCgB,EAoChBG,iBApCgB,EAqChBD,OArCgB,EAsCR;AACR,QAAIE,uBAAuB,GAAG5B,uBAAuB,EAArD;AACAG,IAAAA,SAAS,CAACqB,MAAD,CAAT,GAAoB;AAClBG,MAAAA,iBAAiB,EAAjBA,iBADkB;AAElBL,MAAAA,GAAG,EAAE,aAAAO,aAAa,EAAI;AACpB9B,QAAAA,iBAAiB,CACfU,oCAAoC,CAClCkB,iBADkC,EAElCC,uBAFkC,CADrB,EAKfC,aAAa,CAACC,YALC,EAMfD,aAAa,CAACE,OANC,EAOfpB,wBAAwB,IAAIA,wBAAwB,CAACkB,aAAD,CAPrC,EAQfA,aAAa,CAACG,MARC,EASfpB,yBATe,EAUfgB,uBAVe,EAWfJ,MAAM,KAAK,QAXI,CAAjB;AAaD;AAhBiB,KAApB;;AAkBA,QAAIE,OAAJ,EAAa;AACXrB,MAAAA,QAAQ,CAACmB,MAAD,CAAR,GAAmBrB,SAAS,CAACqB,MAAD,CAA5B;AACD;;AACD,WAAOA,MAAP;AACD,GA9DiB;AAgElBD,EAAAA,gBAhEkB,4BAgEDC,MAhEC,EAgEeF,GAhEf,EAgEsC;AACtDnB,IAAAA,SAAS,CAACqB,MAAD,CAAT,GAAoB;AAACF,MAAAA,GAAG,EAAHA;AAAD,KAApB;AACA,WAAOE,MAAP;AACD,GAnEiB;AAqElBS,EAAAA,eArEkB,2BAqEFT,MArEE,EAqEcd,SArEd,EAqEkD;AAClEG,IAAAA,WAAW,CAACY,iBAAZ,CAA8BD,MAA9B,EAAsCd,SAAtC,EAAiD,IAAjD;AACD,GAvEiB;AAyElBwB,EAAAA,UAzEkB,wBAyEU;AAC1B,WAAOC,MAAM,CAACC,IAAP,CAAYjC,SAAZ,CAAP;AACD,GA3EiB;AA6ElBkC,EAAAA,cA7EkB,4BA6Ec;AAC9B,WAAOF,MAAM,CAACC,IAAP,CAAY/B,QAAZ,CAAP;AACD,GA/EiB;AAiFlBiC,EAAAA,WAjFkB,yBAiFO;AACvB,6BACKjC,QADL;AAGD,GArFiB;AAuFlBkC,EAAAA,WAvFkB,uBAuFNf,MAvFM,EAuFqB;AACrC,WAAOrB,SAAS,CAACqB,MAAD,CAAhB;AACD,GAzFiB;AA2FlBgB,EAAAA,WA3FkB,yBA2FM;AACtB,WAAO;AACLnC,MAAAA,QAAQ,EAAEQ,WAAW,CAACwB,cAAZ,EADL;AAELlC,MAAAA,SAAS,oBAAMA,SAAN;AAFJ,KAAP;AAID,GAhGiB;AAkGlBsC,EAAAA,uCAlGkB,mDAmGhBC,IAnGgB,EAoGhB;AACAjC,IAAAA,oCAAoC,GAAGiC,IAAvC;AACD,GAtGiB;AA6GlBC,EAAAA,cA7GkB,0BA6GHnB,MA7GG,EA6GaK,aA7Gb,EA6GuC;AACvD,QAAIL,MAAM,KAAK,QAAf,EAAyB;AACvB,UAAMoB,GAAG,GACP,cAAcpB,MAAd,GAAuB,SAAvB,GAAmCqB,IAAI,CAACC,SAAL,CAAejB,aAAf,CADrC;AAEAhC,MAAAA,OAAO,CAAC+C,GAAD,CAAP;AACAlD,MAAAA,YAAY,CAACqD,SAAb,CACE,+BAA+B3C,QAAQ,EADzC,EAEE;AAAA,eAAMwC,GAAN;AAAA,OAFF;AAID;;AAOD,QAAI,CAACzC,SAAS,CAACqB,MAAD,CAAV,IAAsB,CAACrB,SAAS,CAACqB,MAAD,CAAT,CAAkBF,GAA7C,EAAkD;AAChD0B,MAAAA,OAAO,CAACC,IAAR;AACA;AACD;;AAUDrD,IAAAA,YAAY,CAACsD,cAAb,CAA4B;AAACC,MAAAA,IAAI,EAAE3B;AAAP,KAA5B;AACArB,IAAAA,SAAS,CAACqB,MAAD,CAAT,CAAkBF,GAAlB,CAAsBO,aAAtB;AACD,GA5IiB;AAmJlBuB,EAAAA,oCAnJkB,gDAmJmBrB,OAnJnB,EAmJ0C;AAC1DpC,IAAAA,WAAW,CAAC0D,wCAAZ,CAAqDtB,OAArD;AACD,GArJiB;AA4JlBuB,EAAAA,oBA5JkB,gCA4JGC,OA5JH,EA4JoBC,YA5JpB,EA4JsD;AACtE,SAAKC,+BAAL,CAAqCF,OAArC,EAA8CC,YAA9C,EAA4D;AAAA,aAAM,YAAM,CAEvE,CAF2D;AAAA,KAA5D;AAGD,GAhKiB;AAuKlBC,EAAAA,+BAvKkB,2CAwKhBF,OAxKgB,EAyKhBC,YAzKgB,EA0KhBE,kBA1KgB,EA2KV;AACN,QAAIpD,aAAa,CAACqD,GAAd,CAAkBJ,OAAlB,CAAJ,EAAgC;AAC9BP,MAAAA,OAAO,CAACC,IAAR,kGACiGM,OADjG;AAGD;;AACDjD,IAAAA,aAAa,CAACsD,GAAd,CAAkBL,OAAlB,EAA2BC,YAA3B;AACAhD,IAAAA,mBAAmB,CAACoD,GAApB,CAAwBL,OAAxB,EAAiCG,kBAAjC;AACD,GAnLiB;AA0LlBG,EAAAA,iBA1LkB,6BA0LAC,MA1LA,EA0LgBP,OA1LhB,EA0LiCQ,IA1LjC,EA0LkD;AAClE,QAAMP,YAAY,GAAGlD,aAAa,CAAC0D,GAAd,CAAkBT,OAAlB,CAArB;;AACA,QAAI,CAACC,YAAL,EAAmB;AACjBR,MAAAA,OAAO,CAACC,IAAR,iCAA2CM,OAA3C;;AACA,UAAItD,2BAAJ,EAAiC;AAC/BA,QAAAA,2BAA2B,CAACgE,kBAA5B,CAA+CH,MAA/C;AACD;;AACD;AACD;;AACDN,IAAAA,YAAY,GAAGO,IAAH,CAAZ,CACGG,IADH,CACQ,YAAM;AACV,UAAIjE,2BAAJ,EAAiC;AAC/BA,QAAAA,2BAA2B,CAACgE,kBAA5B,CAA+CH,MAA/C;AACD;AACF,KALH,EAMGK,KANH,CAMS,UAAAC,MAAM,EAAI;AACfpB,MAAAA,OAAO,CAACqB,KAAR,CAAcD,MAAd;;AAEA,UACEnE,2BAA2B,IAC3BmE,MAAM,YAAYlE,mBAFpB,EAGE;AACAD,QAAAA,2BAA2B,CAACqE,eAA5B,CAA4CR,MAA5C,EAAoDI,IAApD,CACE,UAAAK,WAAW,EAAI;AACb,cAAI,CAACA,WAAL,EAAkB;AAChBtE,YAAAA,2BAA2B,CAACgE,kBAA5B,CAA+CH,MAA/C;AACD;AACF,SALH;AAOD;AACF,KArBH;AAsBD,GAzNiB;AAgOlBU,EAAAA,kBAhOkB,8BAgOCV,MAhOD,EAgOiBP,OAhOjB,EAgOwC;AACxD,QAAMG,kBAAkB,GAAGlD,mBAAmB,CAACwD,GAApB,CAAwBT,OAAxB,CAA3B;;AACA,QAAI,CAACG,kBAAL,EAAyB;AACvB,YAAM,IAAIe,KAAJ,4CAAmDlB,OAAnD,OAAN;AACD;;AACDG,IAAAA,kBAAkB;AACnB;AAtOiB,CAApB;AAyOAlE,aAAa,CAACkF,sBAAd,CAAqC,aAArC,EAAoD7D,WAApD;;AAEA,IAAI8D,OAAJ,EAAa;AACX,MAAMC,eAAe,GAAGnF,OAAO,sCAAP,CAA8CoF,OAAtE;;AACAhE,EAAAA,WAAW,CAACY,iBAAZ,CAA8B,QAA9B,EAAwC;AAAA,WAAMmD,eAAN;AAAA,GAAxC;AACD,CAHD,MAGO;AACL/D,EAAAA,WAAW,CAACY,iBAAZ,CACE,QADF,EAEE;AAAA,WACE,SAASqD,IAAT,GAAgB;AACd,aAAO,IAAP;AACD,KAHH;AAAA,GAFF;AAOD;;AAEDC,MAAM,CAACC,OAAP,GAAiBnE,WAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\n'use strict';\n\nconst BatchedBridge = require('../BatchedBridge/BatchedBridge');\nconst BugReporting = require('../BugReporting/BugReporting');\nconst ReactNative = require('../Renderer/shims/ReactNative');\nconst SceneTracker = require('../Utilities/SceneTracker');\n\nconst infoLog = require('../Utilities/infoLog');\nconst invariant = require('invariant');\nconst renderApplication = require('./renderApplication');\nconst createPerformanceLogger = require('../Utilities/createPerformanceLogger');\nimport type {IPerformanceLogger} from '../Utilities/createPerformanceLogger';\n\nimport NativeHeadlessJsTaskSupport from './NativeHeadlessJsTaskSupport';\nimport HeadlessJsTaskError from './HeadlessJsTaskError';\n\ntype Task = (taskData: any) => Promise<void>;\nexport type TaskProvider = () => Task;\ntype TaskCanceller = () => void;\ntype TaskCancelProvider = () => TaskCanceller;\n\nexport type ComponentProvider = () => React$ComponentType<any>;\nexport type ComponentProviderInstrumentationHook = (\n  component: ComponentProvider,\n  scopedPerformanceLogger: IPerformanceLogger,\n) => React$ComponentType<any>;\nexport type AppConfig = {\n  appKey: string,\n  component?: ComponentProvider,\n  run?: Function,\n  section?: boolean,\n  ...\n};\nexport type Runnable = {\n  component?: ComponentProvider,\n  run: Function,\n  ...\n};\nexport type Runnables = {[appKey: string]: Runnable, ...};\nexport type Registry = {\n  sections: Array<string>,\n  runnables: Runnables,\n  ...\n};\nexport type WrapperComponentProvider = any => React$ComponentType<*>;\n\nconst runnables: Runnables = {};\nlet runCount = 1;\nconst sections: Runnables = {};\nconst taskProviders: Map<string, TaskProvider> = new Map();\nconst taskCancelProviders: Map<string, TaskCancelProvider> = new Map();\nlet componentProviderInstrumentationHook: ComponentProviderInstrumentationHook = (\n  component: ComponentProvider,\n) => component();\n\nlet wrapperComponentProvider: ?WrapperComponentProvider;\nlet showArchitectureIndicator = false;\n\n/**\n * `AppRegistry` is the JavaScript entry point to running all React Native apps.\n *\n * See https://reactnative.dev/docs/appregistry.html\n */\nconst AppRegistry = {\n  setWrapperComponentProvider(provider: WrapperComponentProvider) {\n    wrapperComponentProvider = provider;\n  },\n\n  enableArchitectureIndicator(enabled: boolean): void {\n    showArchitectureIndicator = enabled;\n  },\n\n  registerConfig(config: Array<AppConfig>): void {\n    config.forEach(appConfig => {\n      if (appConfig.run) {\n        AppRegistry.registerRunnable(appConfig.appKey, appConfig.run);\n      } else {\n        invariant(\n          appConfig.component != null,\n          'AppRegistry.registerConfig(...): Every config is expected to set ' +\n            'either `run` or `component`, but `%s` has neither.',\n          appConfig.appKey,\n        );\n        AppRegistry.registerComponent(\n          appConfig.appKey,\n          appConfig.component,\n          appConfig.section,\n        );\n      }\n    });\n  },\n\n  /**\n   * Registers an app's root component.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#registercomponent\n   */\n  registerComponent(\n    appKey: string,\n    componentProvider: ComponentProvider,\n    section?: boolean,\n  ): string {\n    let scopedPerformanceLogger = createPerformanceLogger();\n    runnables[appKey] = {\n      componentProvider,\n      run: appParameters => {\n        renderApplication(\n          componentProviderInstrumentationHook(\n            componentProvider,\n            scopedPerformanceLogger,\n          ),\n          appParameters.initialProps,\n          appParameters.rootTag,\n          wrapperComponentProvider && wrapperComponentProvider(appParameters),\n          appParameters.fabric,\n          showArchitectureIndicator,\n          scopedPerformanceLogger,\n          appKey === 'LogBox',\n        );\n      },\n    };\n    if (section) {\n      sections[appKey] = runnables[appKey];\n    }\n    return appKey;\n  },\n\n  registerRunnable(appKey: string, run: Function): string {\n    runnables[appKey] = {run};\n    return appKey;\n  },\n\n  registerSection(appKey: string, component: ComponentProvider): void {\n    AppRegistry.registerComponent(appKey, component, true);\n  },\n\n  getAppKeys(): Array<string> {\n    return Object.keys(runnables);\n  },\n\n  getSectionKeys(): Array<string> {\n    return Object.keys(sections);\n  },\n\n  getSections(): Runnables {\n    return {\n      ...sections,\n    };\n  },\n\n  getRunnable(appKey: string): ?Runnable {\n    return runnables[appKey];\n  },\n\n  getRegistry(): Registry {\n    return {\n      sections: AppRegistry.getSectionKeys(),\n      runnables: {...runnables},\n    };\n  },\n\n  setComponentProviderInstrumentationHook(\n    hook: ComponentProviderInstrumentationHook,\n  ) {\n    componentProviderInstrumentationHook = hook;\n  },\n\n  /**\n   * Loads the JavaScript bundle and runs the app.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#runapplication\n   */\n  runApplication(appKey: string, appParameters: any): void {\n    if (appKey !== 'LogBox') {\n      const msg =\n        'Running \"' + appKey + '\" with ' + JSON.stringify(appParameters);\n      infoLog(msg);\n      BugReporting.addSource(\n        'AppRegistry.runApplication' + runCount++,\n        () => msg,\n      );\n    }\n\n    // NOTE(brentvatne): the original error message here, commented out below,\n    // is not useful to developers in the Expo managed workflow. It also will\n    // prevent any red box error that has occurred while loading the bundle from\n    // being visible to the user. So, we instead warn and give a more tailored\n    // message to help users with debugging the issue.\n    if (!runnables[appKey] || !runnables[appKey].run) {\n      console.warn(`Unable to start your application. Please refer to https://expo.fyi/no-registered-application for more information.`);\n      return;\n    }\n\n    // invariant(\n    //   runnables[appKey] && runnables[appKey].run,\n    //   `\"${appKey}\" has not been registered. This can happen if:\\n` +\n    //     '* Metro (the local dev server) is run from the wrong folder. ' +\n    //     'Check if Metro is running, stop it and restart it in the current project.\\n' +\n    //     \"* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called.\",\n    // );\n\n    SceneTracker.setActiveScene({name: appKey});\n    runnables[appKey].run(appParameters);\n  },\n\n  /**\n   * Stops an application when a view should be destroyed.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#unmountapplicationcomponentatroottag\n   */\n  unmountApplicationComponentAtRootTag(rootTag: number): void {\n    ReactNative.unmountComponentAtNodeAndRemoveContainer(rootTag);\n  },\n\n  /**\n   * Register a headless task. A headless task is a bit of code that runs without a UI.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#registerheadlesstask\n   */\n  registerHeadlessTask(taskKey: string, taskProvider: TaskProvider): void {\n    this.registerCancellableHeadlessTask(taskKey, taskProvider, () => () => {\n      /* Cancel is no-op */\n    });\n  },\n\n  /**\n   * Register a cancellable headless task. A headless task is a bit of code that runs without a UI.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#registercancellableheadlesstask\n   */\n  registerCancellableHeadlessTask(\n    taskKey: string,\n    taskProvider: TaskProvider,\n    taskCancelProvider: TaskCancelProvider,\n  ): void {\n    if (taskProviders.has(taskKey)) {\n      console.warn(\n        `registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '${taskKey}'`,\n      );\n    }\n    taskProviders.set(taskKey, taskProvider);\n    taskCancelProviders.set(taskKey, taskCancelProvider);\n  },\n\n  /**\n   * Only called from native code. Starts a headless task.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#startheadlesstask\n   */\n  startHeadlessTask(taskId: number, taskKey: string, data: any): void {\n    const taskProvider = taskProviders.get(taskKey);\n    if (!taskProvider) {\n      console.warn(`No task registered for key ${taskKey}`);\n      if (NativeHeadlessJsTaskSupport) {\n        NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      }\n      return;\n    }\n    taskProvider()(data)\n      .then(() => {\n        if (NativeHeadlessJsTaskSupport) {\n          NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n        }\n      })\n      .catch(reason => {\n        console.error(reason);\n\n        if (\n          NativeHeadlessJsTaskSupport &&\n          reason instanceof HeadlessJsTaskError\n        ) {\n          NativeHeadlessJsTaskSupport.notifyTaskRetry(taskId).then(\n            retryPosted => {\n              if (!retryPosted) {\n                NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n              }\n            },\n          );\n        }\n      });\n  },\n\n  /**\n   * Only called from native code. Cancels a headless task.\n   *\n   * See https://reactnative.dev/docs/appregistry.html#cancelheadlesstask\n   */\n  cancelHeadlessTask(taskId: number, taskKey: string): void {\n    const taskCancelProvider = taskCancelProviders.get(taskKey);\n    if (!taskCancelProvider) {\n      throw new Error(`No task canceller registered for key '${taskKey}'`);\n    }\n    taskCancelProvider()();\n  },\n};\n\nBatchedBridge.registerCallableModule('AppRegistry', AppRegistry);\n\nif (__DEV__) {\n  const LogBoxInspector = require('../LogBox/LogBoxInspectorContainer').default;\n  AppRegistry.registerComponent('LogBox', () => LogBoxInspector);\n} else {\n  AppRegistry.registerComponent(\n    'LogBox',\n    () =>\n      function NoOp() {\n        return null;\n      },\n  );\n}\n\nmodule.exports = AppRegistry;\n"]},"metadata":{},"sourceType":"module"}