{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Platform = require(\"../Utilities/Platform\");\n\nimport NativeDialogManagerAndroid from \"../NativeModules/specs/NativeDialogManagerAndroid\";\nimport NativePermissionsAndroid from \"./NativePermissionsAndroid\";\nimport invariant from 'invariant';\nvar PERMISSION_REQUEST_RESULT = Object.freeze({\n  GRANTED: 'granted',\n  DENIED: 'denied',\n  NEVER_ASK_AGAIN: 'never_ask_again'\n});\nvar PERMISSIONS = Object.freeze({\n  READ_CALENDAR: 'android.permission.READ_CALENDAR',\n  WRITE_CALENDAR: 'android.permission.WRITE_CALENDAR',\n  CAMERA: 'android.permission.CAMERA',\n  READ_CONTACTS: 'android.permission.READ_CONTACTS',\n  WRITE_CONTACTS: 'android.permission.WRITE_CONTACTS',\n  GET_ACCOUNTS: 'android.permission.GET_ACCOUNTS',\n  ACCESS_FINE_LOCATION: 'android.permission.ACCESS_FINE_LOCATION',\n  ACCESS_COARSE_LOCATION: 'android.permission.ACCESS_COARSE_LOCATION',\n  ACCESS_BACKGROUND_LOCATION: 'android.permission.ACCESS_BACKGROUND_LOCATION',\n  RECORD_AUDIO: 'android.permission.RECORD_AUDIO',\n  READ_PHONE_STATE: 'android.permission.READ_PHONE_STATE',\n  CALL_PHONE: 'android.permission.CALL_PHONE',\n  READ_CALL_LOG: 'android.permission.READ_CALL_LOG',\n  WRITE_CALL_LOG: 'android.permission.WRITE_CALL_LOG',\n  ADD_VOICEMAIL: 'com.android.voicemail.permission.ADD_VOICEMAIL',\n  USE_SIP: 'android.permission.USE_SIP',\n  PROCESS_OUTGOING_CALLS: 'android.permission.PROCESS_OUTGOING_CALLS',\n  BODY_SENSORS: 'android.permission.BODY_SENSORS',\n  SEND_SMS: 'android.permission.SEND_SMS',\n  RECEIVE_SMS: 'android.permission.RECEIVE_SMS',\n  READ_SMS: 'android.permission.READ_SMS',\n  RECEIVE_WAP_PUSH: 'android.permission.RECEIVE_WAP_PUSH',\n  RECEIVE_MMS: 'android.permission.RECEIVE_MMS',\n  READ_EXTERNAL_STORAGE: 'android.permission.READ_EXTERNAL_STORAGE',\n  WRITE_EXTERNAL_STORAGE: 'android.permission.WRITE_EXTERNAL_STORAGE'\n});\n\nvar PermissionsAndroid = function () {\n  function PermissionsAndroid() {\n    _classCallCheck(this, PermissionsAndroid);\n\n    this.PERMISSIONS = PERMISSIONS;\n    this.RESULTS = PERMISSION_REQUEST_RESULT;\n  }\n\n  _createClass(PermissionsAndroid, [{\n    key: \"checkPermission\",\n    value: function checkPermission(permission) {\n      console.warn('\"PermissionsAndroid.checkPermission\" is deprecated. Use \"PermissionsAndroid.check\" instead');\n\n      if (Platform.OS !== 'android') {\n        console.warn('\"PermissionsAndroid\" module works only for Android platform.');\n        return Promise.resolve(false);\n      }\n\n      invariant(NativePermissionsAndroid, 'PermissionsAndroid is not installed correctly.');\n      return NativePermissionsAndroid.checkPermission(permission);\n    }\n  }, {\n    key: \"check\",\n    value: function check(permission) {\n      if (Platform.OS !== 'android') {\n        console.warn('\"PermissionsAndroid\" module works only for Android platform.');\n        return Promise.resolve(false);\n      }\n\n      invariant(NativePermissionsAndroid, 'PermissionsAndroid is not installed correctly.');\n      return NativePermissionsAndroid.checkPermission(permission);\n    }\n  }, {\n    key: \"requestPermission\",\n    value: function requestPermission(permission, rationale) {\n      var response;\n      return _regeneratorRuntime.async(function requestPermission$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.warn('\"PermissionsAndroid.requestPermission\" is deprecated. Use \"PermissionsAndroid.request\" instead');\n\n              if (!(Platform.OS !== 'android')) {\n                _context.next = 4;\n                break;\n              }\n\n              console.warn('\"PermissionsAndroid\" module works only for Android platform.');\n              return _context.abrupt(\"return\", Promise.resolve(false));\n\n            case 4:\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(this.request(permission, rationale));\n\n            case 6:\n              response = _context.sent;\n              return _context.abrupt(\"return\", response === this.RESULTS.GRANTED);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"request\",\n    value: function request(permission, rationale) {\n      var shouldShowRationale;\n      return _regeneratorRuntime.async(function request$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(Platform.OS !== 'android')) {\n                _context2.next = 3;\n                break;\n              }\n\n              console.warn('\"PermissionsAndroid\" module works only for Android platform.');\n              return _context2.abrupt(\"return\", Promise.resolve(this.RESULTS.DENIED));\n\n            case 3:\n              invariant(NativePermissionsAndroid, 'PermissionsAndroid is not installed correctly.');\n\n              if (!rationale) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(NativePermissionsAndroid.shouldShowRequestPermissionRationale(permission));\n\n            case 7:\n              shouldShowRationale = _context2.sent;\n\n              if (!(shouldShowRationale && !!NativeDialogManagerAndroid)) {\n                _context2.next = 10;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var options = _objectSpread({}, rationale);\n\n                NativeDialogManagerAndroid.showAlert(options, function () {\n                  return reject(new Error('Error showing rationale'));\n                }, function () {\n                  return resolve(NativePermissionsAndroid.requestPermission(permission));\n                });\n              }));\n\n            case 10:\n              return _context2.abrupt(\"return\", NativePermissionsAndroid.requestPermission(permission));\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"requestMultiple\",\n    value: function requestMultiple(permissions) {\n      if (Platform.OS !== 'android') {\n        console.warn('\"PermissionsAndroid\" module works only for Android platform.');\n        return Promise.resolve({});\n      }\n\n      invariant(NativePermissionsAndroid, 'PermissionsAndroid is not installed correctly.');\n      return NativePermissionsAndroid.requestMultiplePermissions(permissions);\n    }\n  }]);\n\n  return PermissionsAndroid;\n}();\n\nvar PermissionsAndroidInstance = new PermissionsAndroid();\nmodule.exports = PermissionsAndroidInstance;","map":{"version":3,"sources":["/Users/carloseduardoloreshernandez/Desktop/Apps/Personal/react-native/react-native-first-app/node_modules/react-native/Libraries/PermissionsAndroid/PermissionsAndroid.js"],"names":["Platform","require","NativeDialogManagerAndroid","NativePermissionsAndroid","invariant","PERMISSION_REQUEST_RESULT","Object","freeze","GRANTED","DENIED","NEVER_ASK_AGAIN","PERMISSIONS","READ_CALENDAR","WRITE_CALENDAR","CAMERA","READ_CONTACTS","WRITE_CONTACTS","GET_ACCOUNTS","ACCESS_FINE_LOCATION","ACCESS_COARSE_LOCATION","ACCESS_BACKGROUND_LOCATION","RECORD_AUDIO","READ_PHONE_STATE","CALL_PHONE","READ_CALL_LOG","WRITE_CALL_LOG","ADD_VOICEMAIL","USE_SIP","PROCESS_OUTGOING_CALLS","BODY_SENSORS","SEND_SMS","RECEIVE_SMS","READ_SMS","RECEIVE_WAP_PUSH","RECEIVE_MMS","READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE","PermissionsAndroid","RESULTS","permission","console","warn","OS","Promise","resolve","checkPermission","rationale","request","response","shouldShowRequestPermissionRationale","shouldShowRationale","reject","options","showAlert","Error","requestPermission","permissions","requestMultiplePermissions","PermissionsAndroidInstance","module","exports"],"mappings":"AAUA;;;;;;;;;;;AAEA,IAAMA,QAAQ,GAAGC,OAAO,yBAAxB;;AAEA,OAAOC,0BAAP;AACA,OAAOC,wBAAP;AAKA,OAAOC,SAAP,MAAsB,WAAtB;AAWA,IAAMC,yBAAyB,GAAGC,MAAM,CAACC,MAAP,CAAc;AAC9CC,EAAAA,OAAO,EAAE,SADqC;AAE9CC,EAAAA,MAAM,EAAE,QAFsC;AAG9CC,EAAAA,eAAe,EAAE;AAH6B,CAAd,CAAlC;AAMA,IAAMC,WAAW,GAAGL,MAAM,CAACC,MAAP,CAAc;AAChCK,EAAAA,aAAa,EAAE,kCADiB;AAEhCC,EAAAA,cAAc,EAAE,mCAFgB;AAGhCC,EAAAA,MAAM,EAAE,2BAHwB;AAIhCC,EAAAA,aAAa,EAAE,kCAJiB;AAKhCC,EAAAA,cAAc,EAAE,mCALgB;AAMhCC,EAAAA,YAAY,EAAE,iCANkB;AAOhCC,EAAAA,oBAAoB,EAAE,yCAPU;AAQhCC,EAAAA,sBAAsB,EAAE,2CARQ;AAShCC,EAAAA,0BAA0B,EAAE,+CATI;AAUhCC,EAAAA,YAAY,EAAE,iCAVkB;AAWhCC,EAAAA,gBAAgB,EAAE,qCAXc;AAYhCC,EAAAA,UAAU,EAAE,+BAZoB;AAahCC,EAAAA,aAAa,EAAE,kCAbiB;AAchCC,EAAAA,cAAc,EAAE,mCAdgB;AAehCC,EAAAA,aAAa,EAAE,gDAfiB;AAgBhCC,EAAAA,OAAO,EAAE,4BAhBuB;AAiBhCC,EAAAA,sBAAsB,EAAE,2CAjBQ;AAkBhCC,EAAAA,YAAY,EAAE,iCAlBkB;AAmBhCC,EAAAA,QAAQ,EAAE,6BAnBsB;AAoBhCC,EAAAA,WAAW,EAAE,gCApBmB;AAqBhCC,EAAAA,QAAQ,EAAE,6BArBsB;AAsBhCC,EAAAA,gBAAgB,EAAE,qCAtBc;AAuBhCC,EAAAA,WAAW,EAAE,gCAvBmB;AAwBhCC,EAAAA,qBAAqB,EAAE,0CAxBS;AAyBhCC,EAAAA,sBAAsB,EAAE;AAzBQ,CAAd,CAApB;;IAkCMC,kB;;;;SACJ1B,W,GA0BKA,W;SACL2B,O,GAIKjC,yB;;;;;WAUL,yBAAgBkC,UAAhB,EAA8D;AAC5DC,MAAAA,OAAO,CAACC,IAAR,CACE,4FADF;;AAGA,UAAIzC,QAAQ,CAAC0C,EAAT,KAAgB,SAApB,EAA+B;AAC7BF,QAAAA,OAAO,CAACC,IAAR,CACE,8DADF;AAGA,eAAOE,OAAO,CAACC,OAAR,CAAgB,KAAhB,CAAP;AACD;;AAEDxC,MAAAA,SAAS,CACPD,wBADO,EAEP,gDAFO,CAAT;AAKA,aAAOA,wBAAwB,CAAC0C,eAAzB,CAAyCN,UAAzC,CAAP;AACD;;;WAQD,eAAMA,UAAN,EAAoD;AAClD,UAAIvC,QAAQ,CAAC0C,EAAT,KAAgB,SAApB,EAA+B;AAC7BF,QAAAA,OAAO,CAACC,IAAR,CACE,8DADF;AAGA,eAAOE,OAAO,CAACC,OAAR,CAAgB,KAAhB,CAAP;AACD;;AAEDxC,MAAAA,SAAS,CACPD,wBADO,EAEP,gDAFO,CAAT;AAKA,aAAOA,wBAAwB,CAAC0C,eAAzB,CAAyCN,UAAzC,CAAP;AACD;;;WAgBD,2BACEA,UADF,EAEEO,SAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAIEN,cAAAA,OAAO,CAACC,IAAR,CACE,gGADF;;AAJF,oBAOMzC,QAAQ,CAAC0C,EAAT,KAAgB,SAPtB;AAAA;AAAA;AAAA;;AAQIF,cAAAA,OAAO,CAACC,IAAR,CACE,8DADF;AARJ,+CAWWE,OAAO,CAACC,OAAR,CAAgB,KAAhB,CAXX;;AAAA;AAAA;AAAA,+CAcyB,KAAKG,OAAL,CAAaR,UAAb,EAAyBO,SAAzB,CAdzB;;AAAA;AAcQE,cAAAA,QAdR;AAAA,+CAeSA,QAAQ,KAAK,KAAKV,OAAL,CAAa9B,OAfnC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;WAwBA,iBACE+B,UADF,EAEEO,SAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIM9C,QAAQ,CAAC0C,EAAT,KAAgB,SAJtB;AAAA;AAAA;AAAA;;AAKIF,cAAAA,OAAO,CAACC,IAAR,CACE,8DADF;AALJ,gDAQWE,OAAO,CAACC,OAAR,CAAgB,KAAKN,OAAL,CAAa7B,MAA7B,CARX;;AAAA;AAWEL,cAAAA,SAAS,CACPD,wBADO,EAEP,gDAFO,CAAT;;AAXF,mBAgBM2C,SAhBN;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAiBsC3C,wBAAwB,CAAC8C,oCAAzB,CAChCV,UADgC,CAjBtC;;AAAA;AAiBUW,cAAAA,mBAjBV;;AAAA,oBAqBQA,mBAAmB,IAAI,CAAC,CAAChD,0BArBjC;AAAA;AAAA;AAAA;;AAAA,gDAsBa,IAAIyC,OAAJ,CAAY,UAACC,OAAD,EAAUO,MAAV,EAAqB;AACtC,oBAAMC,OAAO,qBACRN,SADQ,CAAb;;AAGA5C,gBAAAA,0BAA0B,CAACmD,SAA3B,CAIED,OAJF,EAKE;AAAA,yBAAMD,MAAM,CAAC,IAAIG,KAAJ,CAAU,yBAAV,CAAD,CAAZ;AAAA,iBALF,EAME;AAAA,yBACEV,OAAO,CAACzC,wBAAwB,CAACoD,iBAAzB,CAA2ChB,UAA3C,CAAD,CADT;AAAA,iBANF;AASD,eAbM,CAtBb;;AAAA;AAAA,gDAsCSpC,wBAAwB,CAACoD,iBAAzB,CAA2ChB,UAA3C,CAtCT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;WAgDA,yBACEiB,WADF,EAEkE;AAChE,UAAIxD,QAAQ,CAAC0C,EAAT,KAAgB,SAApB,EAA+B;AAC7BF,QAAAA,OAAO,CAACC,IAAR,CACE,8DADF;AAGA,eAAOE,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;AACD;;AAEDxC,MAAAA,SAAS,CACPD,wBADO,EAEP,gDAFO,CAAT;AAKA,aAAOA,wBAAwB,CAACsD,0BAAzB,CAAoDD,WAApD,CAAP;AACD;;;;;;AAGH,IAAME,0BAA8C,GAAG,IAAIrB,kBAAJ,EAAvD;AAEAsB,MAAM,CAACC,OAAP,GAAiBF,0BAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\n'use strict';\n\nconst Platform = require('../Utilities/Platform');\n\nimport NativeDialogManagerAndroid from '../NativeModules/specs/NativeDialogManagerAndroid';\nimport NativePermissionsAndroid from './NativePermissionsAndroid';\nimport type {\n  PermissionStatus,\n  PermissionType,\n} from './NativePermissionsAndroid';\nimport invariant from 'invariant';\n\nexport type Rationale = {\n  title: string,\n  message: string,\n  buttonPositive?: string,\n  buttonNegative?: string,\n  buttonNeutral?: string,\n  ...\n};\n\nconst PERMISSION_REQUEST_RESULT = Object.freeze({\n  GRANTED: 'granted',\n  DENIED: 'denied',\n  NEVER_ASK_AGAIN: 'never_ask_again',\n});\n\nconst PERMISSIONS = Object.freeze({\n  READ_CALENDAR: 'android.permission.READ_CALENDAR',\n  WRITE_CALENDAR: 'android.permission.WRITE_CALENDAR',\n  CAMERA: 'android.permission.CAMERA',\n  READ_CONTACTS: 'android.permission.READ_CONTACTS',\n  WRITE_CONTACTS: 'android.permission.WRITE_CONTACTS',\n  GET_ACCOUNTS: 'android.permission.GET_ACCOUNTS',\n  ACCESS_FINE_LOCATION: 'android.permission.ACCESS_FINE_LOCATION',\n  ACCESS_COARSE_LOCATION: 'android.permission.ACCESS_COARSE_LOCATION',\n  ACCESS_BACKGROUND_LOCATION: 'android.permission.ACCESS_BACKGROUND_LOCATION',\n  RECORD_AUDIO: 'android.permission.RECORD_AUDIO',\n  READ_PHONE_STATE: 'android.permission.READ_PHONE_STATE',\n  CALL_PHONE: 'android.permission.CALL_PHONE',\n  READ_CALL_LOG: 'android.permission.READ_CALL_LOG',\n  WRITE_CALL_LOG: 'android.permission.WRITE_CALL_LOG',\n  ADD_VOICEMAIL: 'com.android.voicemail.permission.ADD_VOICEMAIL',\n  USE_SIP: 'android.permission.USE_SIP',\n  PROCESS_OUTGOING_CALLS: 'android.permission.PROCESS_OUTGOING_CALLS',\n  BODY_SENSORS: 'android.permission.BODY_SENSORS',\n  SEND_SMS: 'android.permission.SEND_SMS',\n  RECEIVE_SMS: 'android.permission.RECEIVE_SMS',\n  READ_SMS: 'android.permission.READ_SMS',\n  RECEIVE_WAP_PUSH: 'android.permission.RECEIVE_WAP_PUSH',\n  RECEIVE_MMS: 'android.permission.RECEIVE_MMS',\n  READ_EXTERNAL_STORAGE: 'android.permission.READ_EXTERNAL_STORAGE',\n  WRITE_EXTERNAL_STORAGE: 'android.permission.WRITE_EXTERNAL_STORAGE',\n});\n\n/**\n * `PermissionsAndroid` provides access to Android M's new permissions model.\n *\n * See https://reactnative.dev/docs/permissionsandroid.html\n */\n\nclass PermissionsAndroid {\n  PERMISSIONS: {|\n    ACCESS_BACKGROUND_LOCATION: string,\n    ACCESS_COARSE_LOCATION: string,\n    ACCESS_FINE_LOCATION: string,\n    ADD_VOICEMAIL: string,\n    BODY_SENSORS: string,\n    CALL_PHONE: string,\n    CAMERA: string,\n    GET_ACCOUNTS: string,\n    PROCESS_OUTGOING_CALLS: string,\n    READ_CALENDAR: string,\n    READ_CALL_LOG: string,\n    READ_CONTACTS: string,\n    READ_EXTERNAL_STORAGE: string,\n    READ_PHONE_STATE: string,\n    READ_SMS: string,\n    RECEIVE_MMS: string,\n    RECEIVE_SMS: string,\n    RECEIVE_WAP_PUSH: string,\n    RECORD_AUDIO: string,\n    SEND_SMS: string,\n    USE_SIP: string,\n    WRITE_CALENDAR: string,\n    WRITE_CALL_LOG: string,\n    WRITE_CONTACTS: string,\n    WRITE_EXTERNAL_STORAGE: string,\n  |} = PERMISSIONS;\n  RESULTS: {|\n    DENIED: $TEMPORARY$string<'denied'>,\n    GRANTED: $TEMPORARY$string<'granted'>,\n    NEVER_ASK_AGAIN: $TEMPORARY$string<'never_ask_again'>,\n  |} = PERMISSION_REQUEST_RESULT;\n\n  /**\n   * DEPRECATED - use check\n   *\n   * Returns a promise resolving to a boolean value as to whether the specified\n   * permissions has been granted\n   *\n   * @deprecated\n   */\n  checkPermission(permission: PermissionType): Promise<boolean> {\n    console.warn(\n      '\"PermissionsAndroid.checkPermission\" is deprecated. Use \"PermissionsAndroid.check\" instead',\n    );\n    if (Platform.OS !== 'android') {\n      console.warn(\n        '\"PermissionsAndroid\" module works only for Android platform.',\n      );\n      return Promise.resolve(false);\n    }\n\n    invariant(\n      NativePermissionsAndroid,\n      'PermissionsAndroid is not installed correctly.',\n    );\n\n    return NativePermissionsAndroid.checkPermission(permission);\n  }\n\n  /**\n   * Returns a promise resolving to a boolean value as to whether the specified\n   * permissions has been granted\n   *\n   * See https://reactnative.dev/docs/permissionsandroid.html#check\n   */\n  check(permission: PermissionType): Promise<boolean> {\n    if (Platform.OS !== 'android') {\n      console.warn(\n        '\"PermissionsAndroid\" module works only for Android platform.',\n      );\n      return Promise.resolve(false);\n    }\n\n    invariant(\n      NativePermissionsAndroid,\n      'PermissionsAndroid is not installed correctly.',\n    );\n\n    return NativePermissionsAndroid.checkPermission(permission);\n  }\n\n  /**\n   * DEPRECATED - use request\n   *\n   * Prompts the user to enable a permission and returns a promise resolving to a\n   * boolean value indicating whether the user allowed or denied the request\n   *\n   * If the optional rationale argument is included (which is an object with a\n   * `title` and `message`), this function checks with the OS whether it is\n   * necessary to show a dialog explaining why the permission is needed\n   * (https://developer.android.com/training/permissions/requesting.html#explain)\n   * and then shows the system permission dialog\n   *\n   * @deprecated\n   */\n  async requestPermission(\n    permission: PermissionType,\n    rationale?: Rationale,\n  ): Promise<boolean> {\n    console.warn(\n      '\"PermissionsAndroid.requestPermission\" is deprecated. Use \"PermissionsAndroid.request\" instead',\n    );\n    if (Platform.OS !== 'android') {\n      console.warn(\n        '\"PermissionsAndroid\" module works only for Android platform.',\n      );\n      return Promise.resolve(false);\n    }\n\n    const response = await this.request(permission, rationale);\n    return response === this.RESULTS.GRANTED;\n  }\n\n  /**\n   * Prompts the user to enable a permission and returns a promise resolving to a\n   * string value indicating whether the user allowed or denied the request\n   *\n   * See https://reactnative.dev/docs/permissionsandroid.html#request\n   */\n  async request(\n    permission: PermissionType,\n    rationale?: Rationale,\n  ): Promise<PermissionStatus> {\n    if (Platform.OS !== 'android') {\n      console.warn(\n        '\"PermissionsAndroid\" module works only for Android platform.',\n      );\n      return Promise.resolve(this.RESULTS.DENIED);\n    }\n\n    invariant(\n      NativePermissionsAndroid,\n      'PermissionsAndroid is not installed correctly.',\n    );\n\n    if (rationale) {\n      const shouldShowRationale = await NativePermissionsAndroid.shouldShowRequestPermissionRationale(\n        permission,\n      );\n\n      if (shouldShowRationale && !!NativeDialogManagerAndroid) {\n        return new Promise((resolve, reject) => {\n          const options = {\n            ...rationale,\n          };\n          NativeDialogManagerAndroid.showAlert(\n            /* $FlowFixMe(>=0.111.0 site=react_native_fb) This comment\n             * suppresses an error found when Flow v0.111 was deployed. To see\n             * the error, delete this comment and run Flow. */\n            options,\n            () => reject(new Error('Error showing rationale')),\n            () =>\n              resolve(NativePermissionsAndroid.requestPermission(permission)),\n          );\n        });\n      }\n    }\n    return NativePermissionsAndroid.requestPermission(permission);\n  }\n\n  /**\n   * Prompts the user to enable multiple permissions in the same dialog and\n   * returns an object with the permissions as keys and strings as values\n   * indicating whether the user allowed or denied the request\n   *\n   * See https://reactnative.dev/docs/permissionsandroid.html#requestmultiple\n   */\n  requestMultiple(\n    permissions: Array<PermissionType>,\n  ): Promise<{[permission: PermissionType]: PermissionStatus, ...}> {\n    if (Platform.OS !== 'android') {\n      console.warn(\n        '\"PermissionsAndroid\" module works only for Android platform.',\n      );\n      return Promise.resolve({});\n    }\n\n    invariant(\n      NativePermissionsAndroid,\n      'PermissionsAndroid is not installed correctly.',\n    );\n\n    return NativePermissionsAndroid.requestMultiplePermissions(permissions);\n  }\n}\n\nconst PermissionsAndroidInstance: PermissionsAndroid = new PermissionsAndroid();\n\nmodule.exports = PermissionsAndroidInstance;\n"]},"metadata":{},"sourceType":"module"}